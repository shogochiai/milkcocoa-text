# 前説
## 目的と必要な知識の確認
「Kinectのモーションデータをリアルタイム送信して、jThree上の3DCGオブジェクトを動かす」というのが本著の目的ですが、ここでまずは理解を進めるために、目的を因数分解して考えてみましょう。

1.モーションデータを取得する
![スクリーンショット 2015-04-09 10.48.42.png](https://qiita-image-store.s3.amazonaws.com/0/26475/1aeeca72-9ee2-8b34-3e28-361350fd0810.png "スクリーンショット 2015-04-09 10.48.42.png")

2.リアルタイムにデータを送信する
![スクリーンショット 2015-04-09 11.09.10.png](https://qiita-image-store.s3.amazonaws.com/0/26475/b9479f69-0c13-76bd-658f-20a38cdba2bb.png "スクリーンショット 2015-04-09 11.09.10.png")
	
![スクリーンショット 2015-04-09 11.10.39.png](https://qiita-image-store.s3.amazonaws.com/0/26475/efed2227-8915-e221-326d-dc2607341804.png "スクリーンショット 2015-04-09 11.10.39.png")

	
3.3DCGオブジェクトを描画する
	
![スクリーンショット 2015-04-09 10.56.49.png](https://qiita-image-store.s3.amazonaws.com/0/26475/d0b336f0-8ce8-3fd6-e5bb-c4ca32c2d3af.png "スクリーンショット 2015-04-09 10.56.49.png")

	
というのが必要な要素になります。
	
	
## 通信部を学ぶために何から始めるか
これを一度にやってしまうと大変なので、まずは通信部分の理解だけに集中してみましょう。
通信以外の部分を簡略化してみます。
	
1.方向キーを取得する（入力）
![スクリーンショット 2015-04-09 11.21.54.png](https://qiita-image-store.s3.amazonaws.com/0/26475/6594085e-86ca-acb8-c6af-4c9e41f1de36.png "スクリーンショット 2015-04-09 11.21.54.png")

	
2.リアルタイムにデータを送信する（通信）
![スクリーンショット 2015-04-09 11.09.10.png](https://qiita-image-store.s3.amazonaws.com/0/26475/b9479f69-0c13-76bd-658f-20a38cdba2bb.png "スクリーンショット 2015-04-09 11.09.10.png")
	
![スクリーンショット 2015-04-09 11.10.39.png](https://qiita-image-store.s3.amazonaws.com/0/26475/efed2227-8915-e221-326d-dc2607341804.png "スクリーンショット 2015-04-09 11.10.39.png")
	
3.方向に対応した画像を描画する（出力）
![スクリーンショット 2015-04-09 11.22.42.png](https://qiita-image-store.s3.amazonaws.com/0/26475/cb36b971-128a-4747-13ca-f06ddb4267aa.png "スクリーンショット 2015-04-09 11.22.42.png")
	
という風に考えれば、通信部分の理解により多くのリソースを集中できますね。
さて、今回この通信部分の実装を司るのがmilkcocoa.jsになります。
とてもシンプルなライブラリで、dataStore.sendとdataStore.onというふたつの関数を覚えるだけでリアルタイム通信が成り立ってしまう代物です。
![スクリーンショット 2015-04-09 20.42.44.png](https://qiita-image-store.s3.amazonaws.com/0/26475/a000b020-f0f7-6288-cf94-310a9f9e8ffa.png "スクリーンショット 2015-04-09 20.42.44.png")


内部的にはfirebaseとpubnubというサービスを組み合わせてインターフェースを作っていて、firebaseはGoogleが買収していて安定感があり、pubnubはfirebase以上の数のデバイスで日夜稼働しています。

firebase
![スクリーンショット 2015-04-09 20.40.04.png](https://qiita-image-store.s3.amazonaws.com/0/26475/e8dd5740-5db6-cb7d-9cf3-23918b142b5d.png "スクリーンショット 2015-04-09 20.40.04.png")

pubnub
![アップロードに失敗しました スクリーンショット 2015-04-09 20.39.56.png: 不明なエラー]()




さて、この章の前半では、
	
入力　→　通信　→　出力
	
という基本的な構造だけに集中して練習します。その中でmilkcocoaを体験してもらって、この本の主題であるkinectとjthreeの連携部分になめらかに導入できればと思います。
	
後半では、多彩な通信の知識を紹介して、自分で思い通りのサービスを作れるようになってみましょう！
通信を意のままに操れるようになれば、kinectやjthreeのような入出力に想像を膨らます時間も増えていきます。価値あるサービスを作るために、この章の後半で必要最低限を押さえてしまいましょう！
	
では、基礎になるシステムを試しに実装することで手応えを確かめてみましょう。

